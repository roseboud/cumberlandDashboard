
        <!-- KPIs -->
        <div class="sidebar-section">
            <div class="section-header">
                <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18M9 21V9"/></svg>
                <h2>Dashboard Summary</h2>
            </div>
            <div class="kpi-cards">
                <div class="kpi-card">
                    <div class="kpi-value" id="kpi-stations">3</div>
                    <div class="kpi-label">Tide Stations</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value" id="kpi-flood-level">0m</div>
                    <div class="kpi-label">Sim. Water Level</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value" id="kpi-infra">--</div>
                    <div class="kpi-label">Infrastructure</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value" id="kpi-latency">&mdash;</div>
                    <div class="kpi-label">Data Latency</div>
                </div>
            </div>
        </div>

        <!-- Map Layers -->
        <div class="sidebar-section">
            <div class="section-header">
                <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"/><line x1="8" y1="2" x2="8" y2="18"/><line x1="16" y1="6" x2="16" y2="22"/></svg>
                <h2>Map Layers</h2>
            </div>
            <div class="layer-toggle">
                <input type="checkbox" id="layer-flood" checked>
                <span class="layer-color-swatch" style="background: rgba(37, 99, 235, 0.5);"></span>
                <label for="layer-flood">Flood Inundation</label>
            </div>
            <div class="layer-toggle">
                <input type="checkbox" id="layer-roads" checked>
                <span class="layer-color-swatch" style="background: #e67e22;"></span>
                <label for="layer-roads">Road Network</label>
            </div>
            <div class="layer-toggle">
                <input type="checkbox" id="layer-infra" checked>
                <span class="layer-color-swatch" style="background: #c0392b;"></span>
                <label for="layer-infra">Critical Infrastructure</label>
            </div>
            <div class="layer-toggle">
                <input type="checkbox" id="layer-tides" checked>
                <span class="layer-color-swatch" style="background: #2980b9;"></span>
                <label for="layer-tides">Tide Station Markers</label>
            </div>
        </div>

        <!-- Legend -->
        <div class="sidebar-section">
            <div class="section-header" id="toggle-legend">
                <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>
                <h2>Legend</h2>
                <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </div>
            <div id="legend-content">
                <div class="legend-items">
                    <div class="legend-item">
                        <div class="legend-area" style="background: rgba(37, 99, 235, 0.35);"></div>
                        <span>Flood Inundation Zone</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-line" style="background: #c0392b;"></div>
                        <span>Trunk / Motorway</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-line" style="background: #e67e22;"></div>
                        <span>Primary Highway</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-line" style="background: #f39c12;"></div>
                        <span>Secondary Highway</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot" style="background: #c0392b;"></div>
                        <span>Fire Station / Emergency</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot" style="background: #27ae60;"></div>
                        <span>Hospital / Healthcare</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot" style="background: #2980b9;"></div>
                        <span>Police / Government</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot" style="background: #2980b9; border: 2px solid #fff;"></div>
                        <span>Tide Monitoring Station</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- File Upload -->
        <div class="sidebar-section">
            <div class="section-header">
                <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                <h2>Add Custom Layer</h2>
            </div>
            <div class="upload-zone" id="upload-zone">
                <div class="upload-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                </div>
                <p>Drop file here or click to browse</p>
                <div class="upload-formats">Supported: .geojson, .json, .csv</div>
                <input type="file" id="file-input" accept=".json,.geojson,.csv" />
            </div>
            <div class="user-layers-list" id="user-layers-list"></div>
        </div>

        <!-- Footer -->
        <div class="sidebar-footer">
            <strong>Data Sources:</strong> CHS/DFO-MPO (Tides), OpenStreetMap (Roads &amp; Infrastructure), LiDAR-derived flood inundation models.<br>
            <strong>Project:</strong> INFT3000 Capstone &mdash; Cumberland County Flood Risk Assessment.<br>
            <strong>Projection:</strong> NAD83(CSRS)v6 UTM Zone 20N &rarr; WGS84
        </div>
    </aside>
